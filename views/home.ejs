<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Include jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body>

    <%- include('partials/header') %>

        <div class="container-fluid pt-2 mt-1 container-borderless d-flex">


            <!-- start of the sidebar coding is here  -->
            <div class="container sidebar">
                <ul class="d-flex flex-column list-unstyled mt-5"> <!-- Added list-unstyled class -->
                    <li class="nav-item"><a href="/" class="nav-link text-dark"><i class="fas fa-home me-1"></i>Home</a>
                    </li>
                    <li class="nav-item"><a href="/" class="nav-link"><i
                                class="fa-solid fa-question me-1"></i>Questions</a></li>
                    <li class="nav-item"><a href="/" class="nav-link"><i class="fa-solid fa-tag me-1"></i>Filter</a>
                    </li>
                    <li class="nav-item"><a href="/" class="nav-link"><i
                                class="fa-solid fa-users-line me-1"></i>Users</a></li>
                    <li class="nav-item"><a href="/" class="nav-link"><i
                                class="fa-solid fa-bag-shopping me-1"></i>Companies</a></li>
                    <li class="nav-item"><a href="/" class="nav-link"><i
                                class="fa-solid fa-bag-shopping me-1"></i>Discussions</a></li>
                    <hr>
                    <li class="nav-item"><a href="/" class="nav-link">Information</a></li>
                    <li class="nav-item"><a href="/" class="nav-link"><i
                                class="fa-solid fa-bag-shopping me-1"></i>Scholarships</a></li>
                    <li class="nav-item"><a href="/" class="nav-link"><i class="fa-solid fa-bag-shopping me-1"></i>Work
                            Shops</a></li>
                    <li class="nav-item"><a href="/" class="nav-link"><i
                                class="fa-solid fa-bag-shopping me-1"></i>Seminars</a></li>
                    <li class="nav-item"><a href="/" class="nav-link"><i class="fa-solid fa-bag-shopping me-1"></i>About
                            FYP</a></li>
                    <li class="nav-item"><a href="/" class="nav-link"><i
                                class="fa-solid fa-bag-shopping me-1"></i>Research</a></li>
                </ul>
            </div>


            <!-- ----------- end of the sidebar -------------  -->





            <!-- the main content is here  -->
            <div class="row ">
                <div class="col-lg-7 col-sm-12 ms-auto">
                    <!-- the main content div is here  -->
                    <div class="container border py-5">
                        <div class="row m-3">

                            <div class="col-lg-3"><button class="btn btn-primary" id="askQuestion">Ask
                                    Questions</button></div>
                            <!-- this div will open when the button is clicked  -->
                            <div class="container mt-3 border p-2" id="questionContainer" style="display: none;">
                                <div class="container  justify-content-center mt-5">
                                    <div class="card">
                                        <div class="card-body">

                                            <!-- this is the question form  -->
                                            <form action="/question" class="form" method="post" >
                                                <label for="input-file" id="drop-area">
                                                    <input type="file" accept="image/*" id="input-file" name="questionFile" hidden>
                                                    <div id="img-view">
                                                        <img src="/icon.png" alt="">
                                                        <p>Drag and drop or click here to <br> upload image</p>
                                                        <span>upload any image from desktop</span>
                                                    </div>
                                                </label>
                                                <label for="exampleFormControlTextarea1"><b>Add Description</b></label>
                                                <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                                                    placeholder="enter the question description...." name="questionDescription"></textarea>
                                                <button class="btn btn-primary w-50 m-3" type="submit" id="questionSubmit">Submit</button>
                                            </form>
                                            
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <div class="title">This is the question area </div>
                            </div>


                        </div>
                        <div class="card-body">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos, praesentium.
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Commodi soluta cum, aspernatur
                            aliquam ipsam rem culpa ipsum repellat adipisci quam officia dolor consequuntur magni,
                            nihil, iste aliquid cumque quae voluptatem corrupti consectetur id itaque quo quisquam! In,
                            pariatur deserunt?
                            <div class="container mt-5">
                                <div class="row">
                                    <div class="col-2 borderless">
                                        <li class="list-group-item d-flex  align-items-center">
                                            <i class="fa-solid fa-thumbs-up cursor-pointer"
                                                onclick="likeFunction()"></i>
                                            <span class="badge  text-primary" id="like">0</span>
                                        </li>
                                    </div>
                                    <div class="col-2">
                                        <li class="list-group-item d-flex  align-items-center">
                                            <i class="fa-solid fa-thumbs-down cursor-pointer"
                                                onclick="DislikeFunction()"></i>
                                            <span class="badge  text-primary" id="dislike">0</span>
                                        </li>
                                    </div>
                                    <div class="col-2">
                                        <li class="list-group-item d-flex  align-items-center">
                                            <i class="fa-solid fa-share cursor-pointer" onclick="shareFunction()"></i>

                                            <span class="badge badge-primary badge-pill text-primary"
                                                id="share">0</span>
                                        </li>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <!-- this is about the button when someone click on the button it will display the  -->
                        <!-- container and ask for answer  -->
                        <button class="btn btn-primary" id="answer">Give Answer</button>
                        <div class="container  justify-content-center mt-5 " style="display: none;"
                            id="answerContainer">
                            <div class="card">
                                <div class="card-body">
                                    <form action="/answer" class="form" method="post">
                                        <label for="input-file" id="drop-area">
                                            <input type="file" accept="image/*" id="input-file" hidden>
                                            <div id="img-view">
                                                <img src="/icon.png" alt="">
                                                <p>Drag and drop or click here to <br> upload image</p>
                                                <span>upload any image from desktop</span>
                                            </div>
                                        </label> <br>
                                        <label for="exampleFormControlTextarea1"><b> Add Description </b></label>
                                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                                            placeholder="enter the question description...."></textarea>
                                        <button class="btn btn-primary w-50 m-3 " type="submit"
                                            id="answerSubmit">submit</button>
                                    </form>
                                </div>
                            </div>
                        </div>



                    </div>

                </div>
                <div class="col-lg-3 col-sm-0">
                    <!-- the righ sidebar is here  -->
                    <div class="container border py-5">
                        <h4>this is the sidebar of showing related questions</h4>
                    </div>
                </div>
            </div>

        </div>

        <style>
            /* for sidebar scrolling coding  */
            .sidebar {
                overflow: scroll;
                max-width: max-content;
                height: 800px;
                position: fixed;
                margin-bottom: 10px;
            }

            .custom-height {
                height: 500px;
                position: relative;
            }

            /* for like and dislike function coding is here */
            .cursor-pointer {
                cursor: pointer;
            }
        </style>


        <script>
            // Function to set initial values to zero if they don't exist in localStorage
            function setInitialValues() {
                if (!localStorage.getItem('likeCount')) {
                    localStorage.setItem('likeCount', 0);
                }
                if (!localStorage.getItem('dislikeCount')) {
                    localStorage.setItem('dislikeCount', 0);
                }
                if (!localStorage.getItem('shareCount')) {
                    localStorage.setItem('shareCount', 0);
                }
            }

            // Load the initial values from localStorage when the page loads
            window.onload = function () {
                setInitialValues(); // Ensure initial values are set
                var likeSpan = document.getElementById('like');
                likeSpan.innerText = localStorage.getItem('likeCount');

                var dislikeSpan = document.getElementById('dislike');
                dislikeSpan.innerText = localStorage.getItem('dislikeCount');

                var shareSpan = document.getElementById("share");
                shareSpan.innerText = localStorage.getItem('shareCount');
            };

            // Functions to handle like, dislike, and share
            function likeFunction() {
                var likeSpan = document.getElementById('like');
                var currentLikes = parseInt(likeSpan.innerText);
                likeSpan.innerText = currentLikes + 1;
                localStorage.setItem('likeCount', currentLikes + 1);
            }

            function DislikeFunction() {
                var dislikeSpan = document.getElementById('dislike');
                var currentDislikes = parseInt(dislikeSpan.innerText);
                dislikeSpan.innerText = currentDislikes + 1;
                localStorage.setItem('dislikeCount', currentDislikes + 1);
            }

            function shareFunction() {
                var shareSpan = document.getElementById("share");
                var currentShares = parseInt(shareSpan.innerText);
                shareSpan.innerText = currentShares + 1;
                localStorage.setItem('shareCount', currentShares + 1);
            }









        </script>


        <!-- the coding for the drag and drop the file  -->
        <style>
            #drop-area {
                width: 500px;
                height: 300px;
                background-color: white;
                text-align: center;
                padding: 30px;
                border-radius: 20px;
            }


            #img-view {
                width: 100%;
                height: 100%;
                border-radius: 20px;
                border: 2px dashed black;
                background-color: lightyellow;
                background-position: center;
                background-size: contain;
                background-repeat: no-repeat;
            }

            #img-view img {
                width: 100px;
                margin-top: 25px;

            }

            #img-view span {
                display: block;
                font-size: 12px;
                color: brown;
                margin-top: 10px;
            }
        </style>

        <script>
            const dropArea = document.getElementById("drop-area");
            const inputFile = document.getElementById("input-file");
            const imgView = document.getElementById("img-view");


            inputFile.addEventListener('change', uploadImage);


            function uploadImage() {

                let imgLink = URL.createObjectURL(inputFile.files[0]);
                imgView.style.backgroundImage = `url(${imgLink})`
                imgView.textContent = '';

            }

            dropArea.addEventListener("dragover", function (e) {
                e.preventDefault();
            })


            dropArea.addEventListener("drop", function (e) {
                e.preventDefault();
                inputFile.files = e.dataTransfer.files;
                uploadImage();
            })


        </script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>

            // this is for the question when click on the question button it will open 
            $(document).ready(function () {
                $("#askQuestion").click(function () {
                    $("#questionContainer").show();
                });


            });

            $(document).ready(function () {
                $("#answer").click(function () {
                    $("#answerContainer").show()

                })
            })

            // this is for the answer button when someone click on the button it wil open
        </script>


        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-x41wBrCy5gqNGb/i/X0GmqCQSqOI1BAOV9yKxDX2m9XcE3GGtA1D9P8rsOitUmMl" crossorigin="anonymous">

        <!-- Bootstrap JavaScript bundle (includes Popper.js) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-KcJ7meqFeCo5iB+0eTRhpwO/tUZKTKR8A0nSnU2vxfhcb7w0OrM4mavmWDiJkpk0"
            crossorigin="anonymous"></script>

</body>

</html>